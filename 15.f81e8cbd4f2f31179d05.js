(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{F4HW:function(e,t,r){"use strict";r.r(t),r.d(t,"ActivationModule",function(){return F});var i=r("ofXK"),o=r("tyNb"),n=r("3Pt+"),c=r("fXoL"),s=r("VG6C"),a=r("0MNC"),b=r("jIHw"),d=r("Q4Mo"),l=r("/RsI"),p=r("7zfz"),m=r("arFO"),u=r("vKg+"),f=r("sYmb");function h(e,t){1&e&&(c.Zb(0,"label",34),c.Lc(1),c.lc(2,"translate"),c.Yb()),2&e&&(c.Ib(1),c.Nc("",c.mc(2,1,"subscribe.sectors"),"(s): "))}function g(e,t){1&e&&c.Ub(0,"div",35)}function v(e,t){if(1&e&&(c.Zb(0,"div"),c.Lc(1),c.Yb()),2&e){const e=t.$implicit;c.Ib(1),c.Mc(e.Name)}}function x(e,t){1&e&&(c.Zb(0,"label",36),c.Lc(1),c.lc(2,"translate"),c.Yb()),2&e&&(c.Ib(1),c.Nc("",c.mc(2,1,"subscribe.markets"),"(s): "))}function w(e,t){1&e&&c.Ub(0,"div",35)}function I(e,t){if(1&e&&(c.Zb(0,"div"),c.Lc(1),c.Yb()),2&e){const e=t.$implicit;c.Ib(1),c.Mc(e.Nom)}}function y(e,t){1&e&&(c.Zb(0,"label",37),c.Lc(1),c.lc(2,"translate"),c.Yb()),2&e&&(c.Ib(1),c.Nc("",c.mc(2,1,"subscribe.themes"),"(s): "))}function Z(e,t){1&e&&c.Ub(0,"div",35)}function Y(e,t){if(1&e&&(c.Zb(0,"div"),c.Lc(1),c.Yb()),2&e){const e=t.$implicit;c.Ib(1),c.Mc(e.Nom)}}function k(e,t){1&e&&c.Ub(0,"div",35)}function S(e,t){if(1&e){const e=c.ac();c.Zb(0,"div"),c.Zb(1,"div",23),c.Zb(2,"div",24),c.Jc(3,h,3,3,"label",25),c.Ub(4,"br"),c.Jc(5,g,1,0,"div",26),c.Zb(6,"p-dropdown",27),c.lc(7,"translate"),c.Jc(8,v,2,1,"ng-template",28),c.Yb(),c.Yb(),c.Zb(9,"div",24),c.Jc(10,x,3,3,"label",29),c.Ub(11,"br"),c.Jc(12,w,1,0,"div",26),c.Zb(13,"p-dropdown",30),c.lc(14,"translate"),c.Jc(15,I,2,1,"ng-template",28),c.Yb(),c.Yb(),c.Zb(16,"div",24),c.Jc(17,y,3,3,"label",31),c.Ub(18,"br"),c.Jc(19,Z,1,0,"div",26),c.Zb(20,"p-dropdown",32),c.lc(21,"translate"),c.Jc(22,Y,2,1,"ng-template",28),c.Yb(),c.Yb(),c.Zb(23,"div"),c.Jc(24,k,1,0,"div",26),c.Zb(25,"button",33),c.gc("click",function(){c.Ec(e);const r=t.index;return c.kc().deletePreferences(r)}),c.Yb(),c.Yb(),c.Yb(),c.Yb()}if(2&e){const e=t.$implicit,r=t.index,i=c.kc();c.Ib(1),c.rc("formGroup",e),c.Ib(2),c.rc("ngIf",0===r&&!i.isSmallScreen),c.Ib(2),c.rc("ngIf",0===r),c.Ib(1),c.sc("placeholder",c.mc(7,19,"subscribe.sectors")),c.rc("options",i.sectors)("filter",!0),c.Ib(4),c.rc("ngIf",0===r&&!i.isSmallScreen),c.Ib(2),c.rc("ngIf",0===r),c.Ib(1),c.sc("placeholder",c.mc(14,21,"subscribe.markets")),c.rc("options",i.markets)("filter",!0),c.Ib(4),c.rc("ngIf",0===r&&!i.isSmallScreen),c.Ib(2),c.rc("ngIf",0===r),c.Ib(1),c.sc("placeholder",c.mc(21,23,"subscribe.themes")),c.rc("options",i.themes)("filter",!0),c.Ib(4),c.rc("ngIf",0===r),c.Ib(1),c.Ic("border-radius",0,"px")}}function P(e,t){if(1&e){const e=c.ac();c.Zb(0,"button",38),c.gc("click",function(){return c.Ec(e),c.kc().onSubmit()}),c.lc(1,"translate"),c.Yb()}2&e&&(c.Ic("border-radius",0,"px"),c.sc("label",c.mc(1,3,"subscribe.send")))}const T=function(){return{height:"60px"}};function C(e,t){1&e&&c.Ub(0,"p-progressSpinner",39),2&e&&c.Hc(c.tc(2,T))}function M(e,t){if(1&e){const e=c.ac();c.Zb(0,"p-button",40),c.gc("click",function(){return c.Ec(e),c.kc().redirectTo()}),c.Yb()}}function N(e,t){if(1&e){const e=c.ac();c.Zb(0,"p-button",40),c.gc("click",function(){return c.Ec(e),c.kc().redirectTo()}),c.Yb()}}const O=function(){return{width:"50vw"}},E=function(){return{"960px":"75vw","640px":"95vw"}},G=[{path:"",component:(()=>{class e{constructor(e,t,r,i,o){this.activatedRoute=e,this.router=t,this.formBuilder=r,this.subscribeService=i,this.breakPointObserver=o,this.code="",this.done=!1,this.error=!1,this.isSmallScreen=!1,this.processing=!1}ngOnInit(){this.code=this.activatedRoute.snapshot.paramMap.get("code"),this.breakPointObserver.observe(["(max-width: 765px)"]).subscribe(e=>{this.isSmallScreen=!!e.matches}),this.subscribeService.getSectorsFromServer().subscribe(e=>{this.sectors=e}),this.subscribeService.getMarketsFromServer().subscribe(e=>{this.markets=e}),this.subscribeService.getMonitoringthemesFromserver().subscribe(e=>{this.themes=e}),this.subscribeService.getSingleContactFromServer(this.code).subscribe(e=>{0===e.length?this.router.navigate(["/home"]):this.id=e[0].id},e=>{}),this.initForm()}initForm(){this.criteriaFrom=this.formBuilder.group({criteres:this.formBuilder.array([])})}getPreferences(){return this.criteriaFrom.get("criteres")}addPreferences(){const e=this.formBuilder.group({filieres:["",n.m.required],marches:["",n.m.required],themes:["",n.m.required]});this.getPreferences().push(e)}deletePreferences(e){this.getPreferences().removeAt(e)}onSubmit(){this.processing=!0;const e=this.criteriaFrom.value;e.Etat="Actif",fetch("https://admin.dnvc-cm.org/contacts/"+this.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>{this.processing=!1,this.done=!0}).catch(e=>{this.processing=!1,this.error=!0})}redirectTo(){this.router.navigate(["/home"])}}return e.\u0275fac=function(t){return new(t||e)(c.Tb(o.a),c.Tb(o.b),c.Tb(n.c),c.Tb(s.a),c.Tb(a.a))},e.\u0275cmp=c.Nb({type:e,selectors:[["app-activation"]],decls:39,vars:47,consts:[["id","top",1,"background-threads","careers-threads"],[1,"fade-in-section","disable-fade-in","is-visible","fade-in-hero","disable-transform"],[1,"container","hero-splash-container"],[1,"row","pv90-60"],[1,"col-sm-12","col-md-8","hero-splash"],[1,"hero-title",2,"color","white"],[1,"col-12"],[1,"col-sm-12","col-md-5"],[1,"border-top-black","is-visible"],[1,"content-section-mobile","background-white","pt-5","mb60","pb60",2,"margin","0 auto","top","5%","overflow-x","auto","height","100vh"],[1,"m-5","mb-3"],[1,"mb-3",2,"text-align","center"],[3,"formGroup","ngSubmit"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","justify-content","space-around"],["formArrayName","criteres",2,"text-align","center","width","80vw"],[4,"ngFor","ngForOf"],[1,"mt-5"],["pButton","","pRipple","","type","button",1,"p-button-raised","p-button-success","add-button",3,"label","click"],[1,"mt-5",2,"display","flex","flex-direction","row","flex-wrap","nowrap","justify-content","center"],["pButton","","icon","pi pi-arrow-right","iconPos","right","class","p-button-lg p-button-outlined p-button-secondary search-input",3,"border-radius","label","click",4,"ngIf"],["class","ml-4",3,"style",4,"ngIf"],[3,"header","visible","modal","closable","breakpoints","baseZIndex","draggable","visibleChange"],["pTemplate","footer"],[2,"display","flex","flex-direction","row","flex-wrap","wrap","justify-content","center",3,"formGroup"],[1,"mb-1","mr-3"],["for","sectors","style","font-size: 18px; font-family: 'GT America Extended'",4,"ngIf"],["class","mb-5",4,"ngIf"],["id","sectors","optionLabel","Name","filterBy","Name","optionValue","id","formControlName","filieres",3,"options","filter","placeholder"],["pTemplate","item"],["for","markets","style","font-size: 18px; font-family: 'GT America Extended'",4,"ngIf"],["id","markets","optionLabel","Nom","filterBy","Nom","optionValue","id","formControlName","marches",3,"options","filter","placeholder"],["for","themes","style","font-size: 18px; font-family: 'GT America Extended'",4,"ngIf"],["id","themes","optionLabel","Nom","filterBy","Nom","optionValue","id","formControlName","themes",3,"options","filter","placeholder"],["pButton","","pRipple","","type","button","label","x",1,"p-button-raised","p-button-danger",2,"margin-top","27px",3,"click"],["for","sectors",2,"font-size","18px","font-family","GT America Extended"],[1,"mb-5"],["for","markets",2,"font-size","18px","font-family","GT America Extended"],["for","themes",2,"font-size","18px","font-family","GT America Extended"],["pButton","","icon","pi pi-arrow-right","iconPos","right",1,"p-button-lg","p-button-outlined","p-button-secondary","search-input",3,"label","click"],[1,"ml-4"],["label","Ok","styleClass","p-button-text",3,"click"]],template:function(e,t){1&e&&(c.Zb(0,"section",0),c.Zb(1,"div",1),c.Zb(2,"div",2),c.Zb(3,"div",3),c.Zb(4,"div",4),c.Zb(5,"h1",5),c.Lc(6),c.lc(7,"translate"),c.Yb(),c.Yb(),c.Ub(8,"div",6),c.Ub(9,"div",7),c.Yb(),c.Yb(),c.Yb(),c.Yb(),c.Zb(10,"div",8),c.Zb(11,"section",9),c.Zb(12,"div",10),c.Zb(13,"h4",11),c.Lc(14),c.lc(15,"translate"),c.Yb(),c.Ub(16,"br"),c.Zb(17,"div",12),c.gc("ngSubmit",function(){return t.onSubmit()}),c.Zb(18,"div",13),c.Zb(19,"div",14),c.Jc(20,S,26,25,"div",15),c.Zb(21,"div",16),c.Zb(22,"button",17),c.gc("click",function(){return t.addPreferences()}),c.lc(23,"translate"),c.Yb(),c.Yb(),c.Zb(24,"div",18),c.Jc(25,P,2,5,"button",19),c.Jc(26,C,1,3,"p-progressSpinner",20),c.Yb(),c.Yb(),c.Yb(),c.Yb(),c.Yb(),c.Zb(27,"p-dialog",21),c.gc("visibleChange",function(e){return t.done=e}),c.lc(28,"translate"),c.Zb(29,"p"),c.Lc(30),c.lc(31,"translate"),c.Yb(),c.Jc(32,M,1,0,"ng-template",22),c.Yb(),c.Zb(33,"p-dialog",21),c.gc("visibleChange",function(e){return t.error=e}),c.lc(34,"translate"),c.Zb(35,"p"),c.Lc(36),c.lc(37,"translate"),c.Yb(),c.Jc(38,N,1,0,"ng-template",22),c.Yb(),c.Yb(),c.Yb()),2&e&&(c.Ib(6),c.Mc(c.mc(7,29,"activation.choose")),c.Ib(8),c.Nc(" ",c.mc(15,31,"activation.complete")," "),c.Ib(3),c.rc("formGroup",t.criteriaFrom),c.Ib(3),c.rc("ngForOf",t.getPreferences().controls),c.Ib(2),c.Ic("border-radius",0,"px"),c.sc("label",c.mc(23,33,"activation.add")),c.Ib(3),c.rc("ngIf",!(t.criteriaFrom.invalid||0===t.criteriaFrom.controls.criteres.value.length)),c.Ib(1),c.rc("ngIf",t.processing),c.Ib(1),c.Hc(c.tc(43,O)),c.sc("header",c.mc(28,35,"activation.header")),c.rc("visible",t.done)("modal",!0)("closable",!1)("breakpoints",c.tc(44,E))("baseZIndex",1e4)("draggable",!1),c.Ib(3),c.Mc(c.mc(31,37,"activation.done")),c.Ib(3),c.Hc(c.tc(45,O)),c.sc("header",c.mc(34,39,"activation.header-error")),c.rc("visible",t.error)("modal",!0)("closable",!1)("breakpoints",c.tc(46,E))("baseZIndex",1e4)("draggable",!1),c.Ib(3),c.Mc(c.mc(37,41,"activation.error")))},directives:[n.i,n.e,n.b,i.j,b.b,d.a,i.k,l.a,p.e,m.a,n.h,n.d,u.a,b.a],pipes:[f.c],styles:["[_nghost-%COMP%]     .p-dropdown{border-radius:0;border:1px solid #000;padding:5px 10px;min-width:14rem;max-width:14rem;font-family:GT America Extended}[_nghost-%COMP%]     .p-dropdown .p-dropdown{border:1px solid #6c757d}[_nghost-%COMP%]     .p-dropdown .p-dropdown-empty-message{font-family:GT America Extended}[_nghost-%COMP%]     .p-dropdown .p-dropdown-label.p-placeholder{font-family:GT America Extended}[_nghost-%COMP%]     .p-dropdown .p-dropdown-panel .p-dropdown-items .p-dropdown-item{font-family:GT America Extended}[_nghost-%COMP%]     .p-dropdown .p-dropdown-filter{border-radius:0}[_nghost-%COMP%]     .p-button{font-family:GT America Extended}[_nghost-%COMP%]     .p-button .add-button{border-radius:0;font-family:GT America Extended;min-width:6rem;max-width:6rem}[_nghost-%COMP%]     .p-button .p-button{font-family:GT America Extended}[_nghost-%COMP%]     .p-button .submit-button{border-radius:0;padding:20px;min-width:18rem;max-width:18rem}[_nghost-%COMP%]     .p-button .submit-button:hover{background-color:#e21a41}"]}),e})()}];let J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Rb({type:e}),e.\u0275inj=c.Qb({imports:[[o.f.forChild(G)],o.f]}),e})();var A=r("lVkt");let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.Rb({type:e}),e.\u0275inj=c.Qb({imports:[[i.b,J,u.b,l.b,b.c,f.b,n.l,A.a,m.b,d.b]]}),e})()}}]);