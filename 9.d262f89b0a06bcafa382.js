(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{qzfY:function(t,e,r){"use strict";r.r(e),r.d(e,"IndustryModule",function(){return E});var i=r("ofXK"),n=r("tyNb"),c=r("Cfvw"),o=r("OQgR"),s=r("5+tZ"),a=r("IAdc"),l=r("fXoL"),b=r("0MNC"),p=r("pBz1"),d=r("vKg+"),m=r("oOf3"),u=r("sYmb");function f(t,e){1&t&&l.Ub(0,"div",8)}function g(t,e){1&t&&(l.Zb(0,"div",13),l.Zb(1,"h1",14),l.Zb(2,"p"),l.Lc(3),l.lc(4,"translate"),l.Yb(),l.Yb(),l.Yb()),2&t&&(l.Ib(3),l.Mc(l.mc(4,1,"sector.isSector")))}function h(t,e){if(1&t&&(l.Zb(0,"div",13),l.Zb(1,"div",15),l.Zb(2,"label",16),l.Lc(3),l.lc(4,"translate"),l.Yb(),l.Yb(),l.Zb(5,"div",17),l.Zb(6,"div",18),l.Ub(7,"div",19),l.Ub(8,"img",20),l.Zb(9,"picture"),l.Ub(10,"source",21),l.Ub(11,"img",22),l.Yb(),l.Zb(12,"noscript"),l.Zb(13,"picture"),l.Ub(14,"source",21),l.Ub(15,"img",23),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb()),2&t){const t=l.kc(2);l.Ib(3),l.Oc("",l.mc(4,10,"sector.last_update"),": ",t.lastUpdate,""),l.Ib(7),l.rc("srcset",t.sectorImageUrl+" 133w,"+t.sectorImageUrl+" 267w,"+t.sectorImageUrl+" 533w,"+t.sectorImageUrl+" 600w",l.Fc),l.Ib(1),l.rc("srcset",t.sectorImageUrl+" 133w,"+t.sectorImageUrl+" 267w,"+t.sectorImageUrl+" 533w,"+t.sectorImageUrl+" 600w",l.Fc)("src",t.sectorImageUrl,l.Fc)("alt",t.currentIndustriy),l.Ib(3),l.rc("srcset",t.sectorImageUrl+" 133w,"+t.sectorImageUrl+" 267w,"+t.sectorImageUrl+" 533w,"+t.sectorImageUrl+" 600w",l.Fc),l.Ib(1),l.rc("srcset",t.sectorImageUrl+" 133w,"+t.sectorImageUrl+" 267w,"+t.sectorImageUrl+" 533w,"+t.sectorImageUrl+" 600w",l.Fc)("src",t.sectorImageUrl,l.Fc)("alt",t.currentIndustriy)}}function v(t,e){if(1&t&&(l.Zb(0,"div",9),l.Zb(1,"div",10),l.Zb(2,"h2",11),l.Lc(3),l.Yb(),l.Lc(4),l.Yb(),l.Jc(5,g,5,3,"div",12),l.Jc(6,h,16,12,"div",12),l.Yb()),2&t){const t=l.kc();l.Ib(3),l.Mc(t.currentIndustriy),l.Ib(1),l.Nc(" ",t.sectorIntroText," "),l.Ib(1),l.rc("ngIf",!t.isThereAlert),l.Ib(1),l.rc("ngIf",t.isThereAlert)}}function I(t,e){if(1&t&&(l.Zb(0,"h2",40),l.Lc(1),l.Yb()),2&t){const t=l.kc(2);l.Ib(1),l.Mc(t.filterValue)}}function w(t,e){1&t&&(l.Zb(0,"h2",40),l.Lc(1),l.lc(2,"translate"),l.Yb()),2&t&&(l.Ib(1),l.Mc(l.mc(2,1,"sector.All")))}const Z=function(t){return{"rotate-180":t}};function Y(t,e){if(1&t){const t=l.ac();l.Zb(0,"div",41),l.Zb(1,"button",42),l.gc("click",function(){return l.Ec(t),l.kc(2).open()}),l.jc(),l.Zb(2,"svg",43),l.Zb(3,"title",44),l.Lc(4,"Point Down Icon"),l.Yb(),l.Ub(5,"polygon",45),l.Yb(),l.Yb(),l.Yb()}if(2&t){const t=l.kc(2);l.Ib(2),l.rc("ngClass",l.uc(1,Z,t.openedMenu))}}function k(t,e){if(1&t){const t=l.ac();l.Zb(0,"h6",46,34),l.Zb(2,"div"),l.Zb(3,"a",35),l.gc("click",function(){l.Ec(t);const r=e.$implicit,i=l.Cc(1);return l.kc(2).filter(r.alerte,i)}),l.Lc(4),l.Yb(),l.Yb(),l.Yb()}if(2&t){const t=e.$implicit;l.Ib(4),l.Mc(t.alerte)}}function y(t,e){1&t&&l.Ub(0,"p-progressSpinner")}function x(t,e){1&t&&(l.Zb(0,"h2",51),l.Lc(1),l.lc(2,"translate"),l.lc(3,"translate"),l.Yb()),2&t&&(l.Ib(1),l.Oc("",l.mc(2,2,"sector.alerts")," [",l.mc(3,4,"sector.All"),"]"))}function L(t,e){if(1&t&&(l.Zb(0,"h2",51),l.Lc(1),l.lc(2,"translate"),l.Yb()),2&t){const t=l.kc(3);l.Ib(1),l.Oc("",l.mc(2,2,"sector.alerts")," [",t.filterValue,"]")}}function _(t,e){1&t&&(l.Zb(0,"span"),l.Lc(1,", "),l.Yb())}function U(t,e){if(1&t&&(l.Zb(0,"span"),l.Lc(1),l.Jc(2,_,2,0,"span",38),l.Yb()),2&t){const t=e.$implicit,r=l.kc().$implicit;l.Ib(1),l.Mc(t.Nom),l.Ib(1),l.rc("ngIf",!(t.Nom===r.markets[r.markets.length-1].Nom))}}const S=function(t){return{"background-color":t}};function j(t,e){if(1&t){const t=l.ac();l.Zb(0,"div"),l.Zb(1,"div"),l.Zb(2,"div"),l.Zb(3,"div",52),l.Zb(4,"div",53),l.Zb(5,"div",54),l.Zb(6,"div",55),l.Zb(7,"div",56),l.Zb(8,"h5"),l.Ub(9,"span",57),l.Zb(10,"span",58),l.Lc(11),l.Yb(),l.Yb(),l.Yb(),l.Zb(12,"h6",59),l.Zb(13,"p"),l.Lc(14),l.Yb(),l.Yb(),l.Zb(15,"div",60),l.Zb(16,"div"),l.Zb(17,"div",61),l.Zb(18,"div",62),l.Zb(19,"p",63),l.Lc(20),l.lc(21,"translate"),l.Yb(),l.Yb(),l.Zb(22,"div",64),l.Zb(23,"p",65),l.Lc(24),l.lc(25,"translate"),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(26,"div",60),l.Zb(27,"div"),l.Zb(28,"div",61),l.Zb(29,"div",66),l.Zb(30,"p",65),l.Lc(31),l.lc(32,"translate"),l.Jc(33,U,3,2,"span",49),l.Yb(),l.Yb(),l.Zb(34,"div",67),l.Zb(35,"div",68),l.Zb(36,"p",69),l.Lc(37),l.lc(38,"translate"),l.Yb(),l.Yb(),l.Zb(39,"div",70),l.Zb(40,"button",71),l.gc("click",function(){l.Ec(t);const r=e.$implicit;return l.kc(3).redirectTo(r.source)}),l.jc(),l.Zb(41,"svg",72),l.Ub(42,"path",73),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb()}if(2&t){const t=e.$implicit;l.Ib(9),l.rc("ngStyle",l.uc(18,S,t.color)),l.Ib(2),l.Mc(t.title),l.Ib(3),l.Nc(" ",t.text," "),l.Ib(6),l.Oc("",l.mc(21,10,"sector.publish"),": ",t.date,""),l.Ib(4),l.Oc("",l.mc(25,12,"sector.followed_by")," : ",t.author,""),l.Ib(7),l.Nc("",l.mc(32,14,"sector.market"),": "),l.Ib(2),l.rc("ngForOf",t.markets),l.Ib(4),l.Nc("",l.mc(38,16,"sector.source")," : ")}}const M=function(t,e){return{itemsPerPage:5,currentPage:t,totalItems:e}};function A(t,e){if(1&t){const t=l.ac();l.Zb(0,"div",47),l.Zb(1,"div"),l.Jc(2,x,4,6,"h2",48),l.Jc(3,L,3,4,"h2",48),l.Jc(4,j,43,20,"div",49),l.lc(5,"paginate"),l.Yb(),l.Zb(6,"pagination-controls",50),l.gc("pageChange",function(e){return l.Ec(t),l.kc(2).page=e}),l.lc(7,"translate"),l.lc(8,"translate"),l.Yb(),l.Yb()}if(2&t){const t=l.kc(2);l.Ib(2),l.rc("ngIf","ALL"===t.filterValue),l.Ib(1),l.rc("ngIf","ALL"!==t.filterValue),l.Ib(1),l.rc("ngForOf",l.nc(5,5,t.filteredAlert,l.vc(12,M,t.page,t.totalItems))),l.Ib(2),l.sc("previousLabel",l.mc(7,8,"sector.previous")),l.sc("nextLabel",l.mc(8,10,"sector.next"))}}const O=function(t){return{sticky:t}},F=function(t){return{"d-block":t}};function T(t,e){if(1&t){const t=l.ac();l.Zb(0,"div",24),l.Zb(1,"div",25),l.Zb(2,"div",26),l.Zb(3,"div",17),l.Zb(4,"div",27),l.Zb(5,"div",28),l.Zb(6,"div"),l.Zb(7,"div",29),l.Lc(8),l.lc(9,"translate"),l.Yb(),l.Jc(10,I,2,1,"h2",30),l.Jc(11,w,3,3,"h2",30),l.Yb(),l.Jc(12,Y,6,3,"div",31),l.Yb(),l.Zb(13,"ul",32),l.Zb(14,"h6",33,34),l.Zb(16,"div"),l.Zb(17,"a",35),l.gc("click",function(){l.Ec(t);const e=l.Cc(15);return l.kc().filter("ALL",e)}),l.Lc(18),l.lc(19,"translate"),l.Yb(),l.Yb(),l.Yb(),l.Jc(20,k,5,1,"h6",36),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(21,"div",37),l.Jc(22,y,1,0,"p-progressSpinner",38),l.Jc(23,A,9,15,"div",39),l.Yb(),l.Yb()}if(2&t){const t=l.kc();l.Ib(4),l.rc("ngClass",l.uc(14,O,t.stickyMenu&&t.isSmallScreen)),l.Ib(4),l.Mc(l.mc(9,10,"sector.content")),l.Ib(2),l.rc("ngIf","ALL"!==t.filterValue),l.Ib(1),l.rc("ngIf","ALL"===t.filterValue),l.Ib(1),l.rc("ngIf",t.isSmallScreen),l.Ib(1),l.rc("ngClass",l.uc(16,F,t.openedMenu)),l.Ib(5),l.Mc(l.mc(19,12,"sector.All")),l.Ib(2),l.rc("ngForOf",t.content),l.Ib(2),l.rc("ngIf",!t.ready),l.Ib(1),l.rc("ngIf",t.ready)}}const C=[{path:"",component:(()=>{class t{constructor(t,e,r,i,n){this.router=t,this.activatedRoute=e,this.scroller=r,this.breakPointObserver=i,this.industriesService=n,this.serverAdress="https://dnvc-admin.herokuapp.com/",this.sectorImageUrl="",this.sectorIntroText="",this.lastUpdate="",this.filterValue="ALL",this.totalItems=0,this.page=1,this.stickyMenu=!1,this.openedMenu=!1,this.isSmallScreen=!1,this.isThereAlert=!0,this.ready=!1,this.severity={Threat:"red",Weak:"green",Opportunity:"blue"},this.filteredAlert=[],this.content=[]}filter(t,e){document.getElementById("top").scrollIntoView({behavior:"smooth"}),document.querySelectorAll(".active-item").forEach(t=>{t.classList.remove("active-item")}),this.filterValue=t.toString(),this.totalItems=0,this.filteredAlert=[],this.page=1,this.content.forEach("ALL"===t?t=>{t.content.forEach(t=>{this.filteredAlert.push(t)}),this.totalItems+=t.content.length}:e=>{e.alerte===t&&(e.content.forEach(t=>{this.filteredAlert.push(t)}),this.totalItems=e.content.length)}),e.classList.add("active-item")}ngOnInit(){const t=this.activatedRoute.snapshot.paramMap.get("industry");this.currentIndustriy=t,this.getSectorProperties(t.replace(/ /g,"%20")),this.breakPointObserver.observe(["(max-width: 765px)"]).subscribe(t=>{this.isSmallScreen=!!t.matches})}getSectorProperties(t){this.ready=!1,this.isThereAlert=!0,this.industriesService.getSingleSectorFromServer(t).subscribe(e=>{this.isThereAlert=0!==e.length,this.temp=e,Object(c.a)(this.temp).pipe(Object(o.a)(t=>t.themes_de_veille.Nom),Object(s.a)(t=>t.pipe(Object(a.a)()))).subscribe(e=>{const r=[];e.forEach(e=>{if(""===this.sectorImageUrl||""===this.sectorIntroText)for(let r=0;r<e.Filieres.length;r++)if(e.Filieres[r].Name===t.replace(/%20/g," ")){this.sectorImageUrl=e.Filieres[r].Photo.url,this.sectorIntroText=e.Filieres[r].Intro,this.lastUpdate=e.Filieres[r].updated_at.split("T")[0];break}r.push({color:this.severity[e.Type],date:e.DatePublication,author:null!==e.Emetteur?e.Emetteur.NomStructure:e.Emetteur,title:e.Title,text:e.Resume,sourceType:0===e.SourceFile.length?"url":"document",source:0===e.SourceFile.length?e.SourceUrl:e.SourceFile[0].url,markets:e.Marches})}),this.content.push({alerte:e[0].themes_de_veille.Nom,content:r})},t=>{},()=>{this.ready=!0;const t=document.getElementById("all");this.filter("ALL",t)})})}onWindowScroll(t){this.stickyMenu=window.pageYOffset>=1130}open(){this.openedMenu=!this.openedMenu}redirectTo(t){window.open(t,"_blank")}}return t.\u0275fac=function(e){return new(e||t)(l.Tb(n.b),l.Tb(n.a),l.Tb(i.r),l.Tb(b.a),l.Tb(p.a))},t.\u0275cmp=l.Nb({type:t,selectors:[["app-industry"]],hostBindings:function(t,e){1&t&&l.gc("scroll",function(t){return e.onWindowScroll(t)},!1,l.Dc)},decls:8,vars:3,consts:[[1,"background-grid-white"],["id","top",1,"container","teaser-container"],["style","margin-bottom: 150px",4,"ngIf"],["class","row align-items-center justify-content-between",4,"ngIf"],[1,"border-top-black","is-visible"],[1,"content-section-mobile","background-white"],[1,"container","content_nav-container"],["class","row",4,"ngIf"],[2,"margin-bottom","150px"],[1,"row","align-items-center","justify-content-between"],[1,"col-sm-12","col-md-5","teaser-context","pv120-90"],[1,"hero-title",2,"margin-bottom","50px"],["class","col-sm-12 col-md-5 order-first teaser-image pv120-90",4,"ngIf"],[1,"col-sm-12","col-md-5","order-first","teaser-image","pv120-90"],[2,"text-align","center"],[1,"header-subsection-date-section","d-flex","ml-2","mb-5"],[1,"header-subsection-date"],[1,"fade-in-section","disable-fade-in","is-visible"],[1,"gatsby-image-wrapper",2,"position","relative","overflow","hidden","max-width","533px","max-height","400px"],["aria-hidden","true",2,"width","100%","padding-bottom","75.188%"],["aria-hidden","true","src","","alt","",2,"position","absolute","top","0px","left","0px","width","100%","height","100%","object-fit","cover","object-position","center center","opacity","0","transition-delay","500ms"],["sizes","(max-width: 533px) 100vw, 533px",3,"srcset"],["sizes","(max-width: 533px) 100vw, 533px","loading","lazy",2,"position","absolute","top","0px","left","0px","width","100%","height","100%","object-fit","cover","object-position","center center","opacity","1","transition","opacity 500ms ease 0s",3,"srcset","src","alt"],["loading","lazy","sizes","(max-width: 533px) 100vw, 533px",2,"position","absolute","top","0","left","0","opacity","1","width","100%","height","100%","object-fit","cover","object-position","center",3,"srcset","src","alt"],[1,"row"],[1,"col-lg-4","col-md-12","col-sm-12","d-md-block","pt120","mb45"],[1,"jump-nav"],["id","jump-nav",1,"jump-nav__container",3,"ngClass"],[1,"jump-nav__header"],[1,"label"],["class","h6 bold mb0 d-block d-md-none",4,"ngIf"],["class","jump-nav__mobile",4,"ngIf"],[1,"jump-nav__items",3,"ngClass"],["id","all",1,"mb0","pt15","jump-nav__item-wrapper"],["elt",""],[1,"jump-nav__item","bold",2,"cursor","pointer",3,"click"],["class","mb0 pt15 jump-nav__item-wrapper list-item",4,"ngFor","ngForOf"],[1,"col-lg-6","col-md-12","col-sm-12","border-left-black","pb120-90","pt120-45","content-area-content"],[4,"ngIf"],["class","free-form-content__content wysiwyg-wrapper",4,"ngIf"],[1,"h6","bold","mb0","d-block","d-md-none"],[1,"jump-nav__mobile"],[1,"jump-nav__mobile-button",3,"click"],["aria-labelledby","point-down-icon","role","img","viewBox","0 0 30 30",1,"icon","icon-white",3,"ngClass"],["id","point-down-icon"],["fill-rule","nonzero","points","23.354 12.075 15.499 19.929 7.646 12.075 8.353 11.368 15.498 18.514 22.646 11.367 23.354 12.075"],[1,"mb0","pt15","jump-nav__item-wrapper","list-item"],[1,"free-form-content__content","wysiwyg-wrapper"],["class","pb100",4,"ngIf"],[4,"ngFor","ngForOf"],["responsive","true",3,"previousLabel","nextLabel","pageChange"],[1,"pb100"],[1,"wfb-card-wrapper","pb60"],[1,"row","no-gutters"],[1,"col-md-12"],[1,"wfb-card__body-container"],[1,"wfb-card__link-container"],[1,"col-4",2,"padding","2px 12px","width","100px","margin-right","8px",3,"ngStyle"],[1,"col-8"],[2,"font-weight","normal","margin-bottom","0"],[1,"thee-link-container"],[1,"wfb-card__link-container",2,"display","flex","flex-direction","row","flex-wrap","wrap"],[1,"wfb-card__text","mr-5","mb-1","mt-1","mr-auto"],[1,"mr-5",2,"color","darkgray","font-size","14px"],[1,"wfb-card__text","mb-1","mt-1"],[2,"color","darkgray","font-size","14px"],[1,"wfb-card__text","col-xl-6","col-lg-6","col-md-6","mb-1","mt-1","mr-auto",2,"margin-top","8px"],[2,"display","flex","flex-direction","row","flex-wrap","nowrap"],[1,"wfb-card__text",2,"margin-top","8px"],[2,"color","darkgray","font-size","14px","text-align","center"],[1,"wfb-card__text"],[2,"margin","0","padding","0","border","none",3,"click"],["role","img","aria-labelledby","file-icon","viewBox","0 0 30 30",1,"icon"],["d","M16.667,7 L9,7 L9,24 L22,24 L22,12.308 L16.667,7 Z M17,8.742 L20.273,12 L17,12 L17,8.742 Z M10,23 L10,8 L16,8 L16,13 L21,13 L21,23 L10,23 Z","fill","#161618","fill-rule","nonzero"]],template:function(t,e){1&t&&(l.Zb(0,"section",0),l.Zb(1,"div",1),l.Jc(2,f,1,0,"div",2),l.Jc(3,v,7,4,"div",3),l.Yb(),l.Yb(),l.Zb(4,"div",4),l.Zb(5,"section",5),l.Zb(6,"div",6),l.Jc(7,T,24,18,"div",7),l.Yb(),l.Yb(),l.Yb()),2&t&&(l.Ib(2),l.rc("ngIf",e.isSmallScreen),l.Ib(1),l.rc("ngIf",e.ready),l.Ib(4),l.rc("ngIf",e.isThereAlert))},directives:[i.k,i.i,i.j,d.a,m.c,i.l],pipes:[u.c,m.b],styles:[".sticky[_ngcontent-%COMP%]{position:fixed;top:0;margin-left:16px}.linked-file[_ngcontent-%COMP%]{text-decoration:none}"]}),t})()}];let J=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Rb({type:t}),t.\u0275inj=l.Qb({imports:[[n.f.forChild(C)],n.f]}),t})(),E=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Rb({type:t}),t.\u0275inj=l.Qb({imports:[[i.b,J,m.a,u.b,d.b]]}),t})()},"vKg+":function(t,e,r){"use strict";r.d(e,"a",function(){return c}),r.d(e,"b",function(){return o});var i=r("ofXK"),n=r("fXoL");let c=(()=>{class t{constructor(){this.strokeWidth="2",this.fill="none",this.animationDuration="2s"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Nb({type:t,selectors:[["p-progressSpinner"]],inputs:{strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",style:"style",styleClass:"styleClass"},decls:3,vars:6,consts:[["role","alert","aria-busy","true",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(t,e){1&t&&(n.Zb(0,"div",0),n.jc(),n.Zb(1,"svg",1),n.Ub(2,"circle",2),n.Yb(),n.Yb()),2&t&&(n.rc("ngStyle",e.style)("ngClass",e.styleClass),n.Ib(1),n.Ic("animation-duration",e.animationDuration),n.Ib(1),n.Jb("fill",e.fill)("stroke-width",e.strokeWidth))},directives:[i.l,i.i],styles:['.p-progress-spinner{display:inline-block;height:100px;margin:0 auto;position:relative;width:100px}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;bottom:0;height:100%;left:0;margin:auto;position:absolute;right:0;top:0;transform-origin:center center;width:100%}.p-progress-spinner-circle{animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke:#d62d20;stroke-dasharray:89,200;stroke-dashoffset:0;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(1turn)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{0%,to{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}'],encapsulation:2,changeDetection:0}),t})(),o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.Rb({type:t}),t.\u0275inj=n.Qb({imports:[[i.b]]}),t})()}}]);