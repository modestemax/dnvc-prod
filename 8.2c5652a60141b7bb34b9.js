(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{qkvE:function(e,t,r){"use strict";r.r(t),r.d(t,"MarketModule",function(){return N});var i=r("ofXK"),n=r("tyNb"),c=r("Cfvw"),o=r("OQgR"),s=r("5+tZ"),a=r("IAdc"),l=r("fXoL"),b=r("0MNC"),p=r("QX/Z"),d=r("vKg+"),m=r("oOf3"),u=r("sYmb");function f(e,t){1&e&&l.Ub(0,"p-progressSpinner")}function h(e,t){1&e&&(l.Zb(0,"div",23),l.Zb(1,"h1",24),l.Zb(2,"p"),l.Kc(3),l.lc(4,"translate"),l.Yb(),l.Yb(),l.Yb()),2&e&&(l.Ib(3),l.Lc(l.mc(4,1,"market.isMarket")))}function g(e,t){if(1&e&&(l.Zb(0,"div",23),l.Zb(1,"div",25),l.Zb(2,"div",26),l.Ub(3,"div",27),l.Ub(4,"img",28),l.Zb(5,"picture"),l.Ub(6,"source",29),l.Ub(7,"img",30),l.Yb(),l.Zb(8,"noscript"),l.Zb(9,"picture"),l.Ub(10,"source",29),l.Ub(11,"img",31),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb()),2&e){const e=l.kc(2);l.Ib(6),l.qc("srcset",e.marketImageUrl+" 133w,"+e.marketImageUrl+" 267w,"+e.marketImageUrl+" 533w,"+e.marketImageUrl+" 600w",l.Ec),l.Ib(1),l.qc("srcset",e.marketImageUrl+" 133w,"+e.marketImageUrl+" 267w,"+e.marketImageUrl+" 533w,"+e.marketImageUrl+" 600w",l.Ec)("src",e.marketImageUrl,l.Ec)("alt",e.currentMarket),l.Ib(3),l.qc("srcset",e.marketImageUrl+" 133w,"+e.marketImageUrl+" 267w,"+e.marketImageUrl+" 533w,"+e.marketImageUrl+" 600w",l.Ec),l.Ib(1),l.qc("srcset",e.marketImageUrl+" 133w,"+e.marketImageUrl+" 267w,"+e.marketImageUrl+" 533w,"+e.marketImageUrl+" 600w",l.Ec)("src",e.marketImageUrl,l.Ec)}}function v(e,t){if(1&e&&(l.Zb(0,"div",20),l.Zb(1,"div",21),l.Kc(2),l.Yb(),l.Ic(3,h,5,3,"div",22),l.Ic(4,g,12,7,"div",22),l.Yb()),2&e){const e=l.kc();l.Ib(2),l.Mc(" ",e.marketIntroText," "),l.Ib(1),l.qc("ngIf",!e.isThereAlert),l.Ib(1),l.qc("ngIf",e.isThereAlert)}}function k(e,t){if(1&e&&(l.Zb(0,"h2",47),l.Kc(1),l.Yb()),2&e){const e=l.kc(2);l.Ib(1),l.Lc(e.filterValue)}}function I(e,t){1&e&&(l.Zb(0,"h2",47),l.Kc(1),l.lc(2,"translate"),l.Yb()),2&e&&(l.Ib(1),l.Lc(l.mc(2,1,"market.All")))}const w=function(e){return{"rotate-180":e}};function Z(e,t){if(1&e){const e=l.ac();l.Zb(0,"div",48),l.Zb(1,"button",49),l.gc("click",function(){return l.Dc(e),l.kc(2).open()}),l.jc(),l.Zb(2,"svg",50),l.Zb(3,"title",51),l.Kc(4,"Point Down Icon"),l.Yb(),l.Ub(5,"polygon",52),l.Yb(),l.Yb(),l.Yb()}if(2&e){const e=l.kc(2);l.Ib(2),l.qc("ngClass",l.uc(1,w,e.openedMenu))}}function Y(e,t){if(1&e){const e=l.ac();l.Zb(0,"h6",53,42),l.Zb(2,"div"),l.Zb(3,"a",43),l.gc("click",function(){l.Dc(e);const r=t.$implicit,i=l.Bc(1);return l.kc(2).filter(r.alerte,i)}),l.Kc(4),l.Yb(),l.Yb(),l.Yb()}if(2&e){const e=t.$implicit;l.Ib(4),l.Lc(e.alerte)}}function y(e,t){1&e&&l.Ub(0,"p-progressSpinner")}function x(e,t){1&e&&(l.Zb(0,"h2",58),l.Kc(1),l.lc(2,"translate"),l.lc(3,"translate"),l.Yb()),2&e&&(l.Ib(1),l.Nc("",l.mc(2,2,"market.alerts")," [",l.mc(3,4,"market.All"),"]"))}function L(e,t){if(1&e&&(l.Zb(0,"h2",58),l.Kc(1),l.lc(2,"translate"),l.Yb()),2&e){const e=l.kc(3);l.Ib(1),l.Nc("",l.mc(2,2,"market.alerts")," [",e.filterValue,"]")}}const _=function(e){return{"background-color":e}};function U(e,t){if(1&e){const e=l.ac();l.Zb(0,"div"),l.Zb(1,"div"),l.Zb(2,"div"),l.Zb(3,"div",59),l.Zb(4,"div",60),l.Zb(5,"div",61),l.Zb(6,"div",62),l.Zb(7,"div",63),l.Zb(8,"h5"),l.Ub(9,"span",64),l.Zb(10,"span",65),l.Kc(11),l.Yb(),l.Yb(),l.Yb(),l.Zb(12,"div",66),l.Zb(13,"div"),l.Zb(14,"div",67),l.Zb(15,"div",68),l.Zb(16,"p",69),l.Kc(17),l.lc(18,"translate"),l.Yb(),l.Yb(),l.Zb(19,"div",70),l.Zb(20,"p",69),l.Kc(21),l.lc(22,"translate"),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(23,"h6",71),l.Zb(24,"p"),l.Kc(25),l.Yb(),l.Yb(),l.Zb(26,"div",66),l.Zb(27,"div"),l.Zb(28,"div",72),l.Zb(29,"div",73),l.Zb(30,"p",74),l.Kc(31),l.lc(32,"translate"),l.Yb(),l.Yb(),l.Zb(33,"div",75),l.Zb(34,"button",76),l.gc("click",function(){l.Dc(e);const r=t.$implicit;return l.kc(3).redirectTo(r.source)}),l.jc(),l.Zb(35,"svg",77),l.Ub(36,"path",78),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb()}if(2&e){const e=t.$implicit;l.Ib(9),l.qc("ngStyle",l.uc(14,_,e.color)),l.Ib(2),l.Lc(e.title),l.Ib(6),l.Nc("",l.mc(18,8,"market.publish"),": ",e.date,""),l.Ib(4),l.Nc("",l.mc(22,10,"market.followed_by"),": ",e.author,""),l.Ib(4),l.Mc(" ",e.text," "),l.Ib(6),l.Mc("",l.mc(32,12,"market.source"),": ")}}const S=function(e,t){return{itemsPerPage:5,currentPage:e,totalItems:t}},M=function(){return{position:"absolute","bottom.px":0}},j=function(){return{}},A=function(e){return{position:e}};function q(e,t){if(1&e){const e=l.ac();l.Zb(0,"div",54),l.Zb(1,"div"),l.Ic(2,x,4,6,"h2",55),l.Ic(3,L,3,4,"h2",55),l.Ic(4,U,37,16,"div",56),l.lc(5,"paginate"),l.Yb(),l.Zb(6,"pagination-controls",57),l.gc("pageChange",function(t){return l.Dc(e),l.kc(2).page=t}),l.lc(7,"translate"),l.lc(8,"translate"),l.Yb(),l.Yb()}if(2&e){const e=l.kc(2);l.Ib(2),l.qc("ngIf","ALL"===e.filterValue),l.Ib(1),l.qc("ngIf","ALL"!==e.filterValue),l.Ib(1),l.qc("ngForOf",l.nc(5,6,e.filteredAlert,l.vc(13,S,e.page,e.totalItems))),l.Ib(2),l.rc("previousLabel",l.mc(7,9,"market.previous")),l.rc("nextLabel",l.mc(8,11,"market.next")),l.qc("ngStyle",l.uc(18,A,e.isSmallScreen?l.tc(16,M):l.tc(17,j)))}}const K=function(e){return{sticky:e}},T=function(e){return{"d-block":e}};function C(e,t){if(1&e){const e=l.ac();l.Zb(0,"div",32),l.Zb(1,"div",33),l.Zb(2,"div",34),l.Zb(3,"div",25),l.Zb(4,"div",35),l.Zb(5,"div",36),l.Zb(6,"div"),l.Zb(7,"div",37),l.Kc(8),l.lc(9,"translate"),l.Yb(),l.Ic(10,k,2,1,"h2",38),l.Ic(11,I,3,3,"h2",38),l.Yb(),l.Ic(12,Z,6,3,"div",39),l.Yb(),l.Zb(13,"ul",40),l.Zb(14,"h6",41,42),l.Zb(16,"div"),l.Zb(17,"a",43),l.gc("click",function(){l.Dc(e);const t=l.Bc(15);return l.kc().filter("ALL",t)}),l.Kc(18),l.lc(19,"translate"),l.Yb(),l.Yb(),l.Yb(),l.Ic(20,Y,5,1,"h6",44),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(21,"div",45),l.Ic(22,y,1,0,"p-progressSpinner",14),l.Ic(23,q,9,20,"div",46),l.Yb(),l.Yb()}if(2&e){const e=l.kc();l.Ib(4),l.qc("ngClass",l.uc(14,K,e.stickyMenu&&e.isSmallScreen)),l.Ib(4),l.Lc(l.mc(9,10,"market.content")),l.Ib(2),l.qc("ngIf","ALL"!==e.filterValue),l.Ib(1),l.qc("ngIf","ALL"===e.filterValue),l.Ib(1),l.qc("ngIf",e.isSmallScreen),l.Ib(1),l.qc("ngClass",l.uc(16,T,e.openedMenu)),l.Ib(5),l.Lc(l.mc(19,12,"market.All")),l.Ib(2),l.qc("ngForOf",e.content),l.Ib(2),l.qc("ngIf",!e.ready),l.Ib(1),l.qc("ngIf",e.ready)}}const E=[{path:"",component:(()=>{class e{constructor(e,t,r,i){this.router=e,this.activatedRoute=t,this.breakPointObserver=r,this.marketsService=i,this.serverAdress="https://dnvc-admin.herokuapp.com",this.marketImageUrl="",this.marketIntroText="",this.lastUpdate="",this.filterValue="ALL",this.totalItems=0,this.page=1,this.stickyMenu=!1,this.openedMenu=!1,this.isSmallScreen=!1,this.isThereAlert=!0,this.ready=!1,this.severity={Threat:"red",Weak:"green",Opportunity:"blue"},this.filteredAlert=[],this.content=[]}filter(e,t){document.getElementById("top").scrollIntoView({behavior:"smooth"}),document.querySelectorAll(".active-item").forEach(e=>{e.classList.remove("active-item")}),this.filterValue=e.toString(),this.totalItems=0,this.filteredAlert=[],this.page=1,this.content.forEach("ALL"===e?e=>{e.content.forEach(e=>{this.filteredAlert.push(e)}),this.totalItems+=e.content.length}:t=>{t.alerte===e&&(t.content.forEach(e=>{this.filteredAlert.push(e)}),this.totalItems=t.content.length)}),t.classList.add("active-item")}ngOnInit(){const e=this.activatedRoute.snapshot.paramMap.get("zone");this.currentMarket=e,this.getMarketProperties(e),this.breakPointObserver.observe(["(max-width: 765px)"]).subscribe(e=>{this.isSmallScreen=!!e.matches})}getMarketProperties(e){this.ready=!1,this.isThereAlert=!0,this.marketsService.getSingleMarketFromServer(e).subscribe(t=>{this.isThereAlert=0!==t.length,this.temp=t,Object(c.a)(this.temp).pipe(Object(o.a)(e=>e.themes_de_veille.Nom),Object(s.a)(e=>e.pipe(Object(a.a)()))).subscribe(t=>{const r=[];t.forEach(t=>{if(""===this.marketImageUrl||""===this.marketIntroText)for(let r=0;r<t.Marches.length;r++)if(t.Marches[r].Nom===e){this.marketImageUrl=this.serverAdress+t.Marches[r].Logo_Large[0].url,this.marketIntroText=t.Marches[r].Intro,this.lastUpdate=t.Marches[r].updated_at.split("T")[0];break}r.push({color:this.severity[t.Type],date:t.DatePublication,author:null!==t.Emetteur?t.Emetteur.NomStructure:t.Emetteur,title:t.Title,text:t.Resume,sourceType:0===t.SourceFile.length?"url":"document",source:0===t.SourceFile.length?t.sourceUrl:this.serverAdress+t.SourceFile[0].url,markets:t.Marches})}),this.content.push({alerte:t[0].themes_de_veille.Nom,content:r})},e=>{},()=>{this.ready=!0;const e=document.getElementById("all");this.filter("ALL",e)})})}onWindowScroll(e){this.stickyMenu=window.pageYOffset>=1120}open(){this.openedMenu=!this.openedMenu}redirectTo(e){window.open(e,"_blank")}}return e.\u0275fac=function(t){return new(t||e)(l.Tb(n.b),l.Tb(n.a),l.Tb(b.a),l.Tb(p.a))},e.\u0275cmp=l.Nb({type:e,selectors:[["app-market"]],hostBindings:function(e,t){1&e&&l.gc("scroll",function(e){return t.onWindowScroll(e)},!1,l.Cc)},decls:25,vars:11,consts:[[1,"background-threads","careers-threads"],[1,"fade-in-section","disable-fade-in","is-visible","fade-in-hero","disable-transform"],[1,"container","hero-splash-container"],[1,"row","pv90-60"],[1,"col-sm-12","col-md-8","hero-splash"],["routerLink","/markets",1,"hero-parent-title","crown-link"],[1,"h1","small","mb0","d-inline"],[1,"hero-title",2,"color","white"],[1,"col-12"],[1,"col-sm-12","col-md-5"],[1,"background-grid-white"],[1,"container","teaser-container"],[1,"header-subsection-date-section","d-flex"],[1,"header-subsection-date"],[4,"ngIf"],["class","row align-items-center justify-content-between",4,"ngIf"],["id","top",1,"border-top-black","is-visible"],[1,"content-section-mobile","background-white"],[1,"container","content_nav-container"],["class","row",4,"ngIf"],[1,"row","align-items-center","justify-content-between"],[1,"col-sm-12","col-md-5","teaser-context","pv120-90"],["class","col-sm-12 col-md-5 order-first teaser-image pv120-90",4,"ngIf"],[1,"col-sm-12","col-md-5","order-first","teaser-image","pv120-90"],[2,"text-align","center"],[1,"fade-in-section","disable-fade-in","is-visible"],[1,"gatsby-image-wrapper",2,"position","relative","overflow","hidden","max-width","533px","max-height","400px"],["aria-hidden","true",2,"width","100%","padding-bottom","75.188%"],["aria-hidden","true","src","","alt","",2,"position","absolute","top","0px","left","0px","width","100%","height","100%","object-fit","cover","object-position","center center","opacity","0","transition-delay","500ms"],["sizes","(max-width: 533px) 100vw, 533px",3,"srcset"],["sizes","(max-width: 533px) 100vw, 533px","loading","lazy",2,"position","absolute","top","0px","left","0px","width","100%","height","100%","object-fit","cover","object-position","center center","opacity","1","transition","opacity 500ms ease 0s",3,"srcset","src","alt"],["loading","lazy","sizes","(max-width: 533px) 100vw, 533px","alt","",2,"position","absolute","top","0","left","0","opacity","1","width","100%","height","100%","object-fit","cover","object-position","center",3,"srcset","src"],[1,"row"],[1,"col-lg-4","col-md-12","col-sm-12","d-md-block","pt120","mb45"],[1,"jump-nav"],["id","jump-nav",1,"jump-nav__container",3,"ngClass"],[1,"jump-nav__header"],[1,"label"],["class","h6 bold mb0 d-block d-md-none",4,"ngIf"],["class","jump-nav__mobile",4,"ngIf"],[1,"jump-nav__items",3,"ngClass"],["id","all",1,"mb0","pt15","jump-nav__item-wrapper"],["elt",""],[1,"jump-nav__item","bold",2,"cursor","pointer",3,"click"],["class","mb0 pt15 jump-nav__item-wrapper",4,"ngFor","ngForOf"],[1,"col-lg-6","col-md-12","col-sm-12","border-left-black","pb120-90","pt120-45","content-area-content"],["class","free-form-content__content wysiwyg-wrapper",4,"ngIf"],[1,"h6","bold","mb0","d-block","d-md-none"],[1,"jump-nav__mobile"],[1,"jump-nav__mobile-button",3,"click"],["aria-labelledby","point-down-icon","role","img","viewBox","0 0 30 30",1,"icon","icon-white",3,"ngClass"],["id","point-down-icon"],["fill-rule","nonzero","points","23.354 12.075 15.499 19.929 7.646 12.075 8.353 11.368 15.498 18.514 22.646 11.367 23.354 12.075"],[1,"mb0","pt15","jump-nav__item-wrapper"],[1,"free-form-content__content","wysiwyg-wrapper"],["class","pb100",4,"ngIf"],[4,"ngFor","ngForOf"],["responsive","true",2,"position","absolute","bottom","15px",3,"previousLabel","nextLabel","ngStyle","pageChange"],[1,"pb100"],[1,"wfb-card-wrapper","pb60"],[1,"row","no-gutters"],[1,"col-md-12"],[1,"wfb-card__body-container"],[1,"wfb-card__link-container"],[1,"col-4",2,"padding","2px 12px","width","100px","margin-right","8px",3,"ngStyle"],[1,"col-8"],[1,"thee-link-container"],[1,"wfb-card__link-container",2,"display","flex","flex-direction","row","flex-wrap","wrap"],[1,"wfb-card__text","mb-1","mt-1","mr-5"],[2,"color","darkgray","font-size","14px"],[1,"wfb-card__text","mb-1","mt-1"],[2,"font-weight","normal","margin-bottom","0"],[2,"display","flex","flex-direction","row","flex-wrap","nowrap"],[1,"wfb-card__text",2,"margin-top","8px"],[2,"color","darkgray","font-size","14px","text-align","center"],[1,"wfb-card__text"],[2,"margin","0","padding","0","border","none",3,"click"],["role","img","aria-labelledby","file-icon","viewBox","0 0 30 30",1,"icon"],["d","M16.667,7 L9,7 L9,24 L22,24 L22,12.308 L16.667,7 Z M17,8.742 L20.273,12 L17,12 L17,8.742 Z M10,23 L10,8 L16,8 L16,13 L21,13 L21,23 L10,23 Z","fill","#161618","fill-rule","nonzero"]],template:function(e,t){1&e&&(l.Zb(0,"section",0),l.Zb(1,"div",1),l.Zb(2,"div",2),l.Zb(3,"div",3),l.Zb(4,"div",4),l.Zb(5,"a",5),l.Zb(6,"h3",6),l.Kc(7),l.lc(8,"translate"),l.Yb(),l.Yb(),l.Zb(9,"h1",7),l.Kc(10),l.Yb(),l.Yb(),l.Ub(11,"div",8),l.Ub(12,"div",9),l.Yb(),l.Yb(),l.Yb(),l.Yb(),l.Zb(13,"section",10),l.Zb(14,"div",11),l.Zb(15,"div",12),l.Zb(16,"label",13),l.Kc(17),l.lc(18,"translate"),l.Yb(),l.Yb(),l.Ic(19,f,1,0,"p-progressSpinner",14),l.Ic(20,v,5,3,"div",15),l.Yb(),l.Yb(),l.Zb(21,"div",16),l.Zb(22,"section",17),l.Zb(23,"div",18),l.Ic(24,C,24,18,"div",19),l.Yb(),l.Yb(),l.Yb()),2&e&&(l.Ib(7),l.Lc(l.mc(8,7,"market.link")),l.Ib(3),l.Lc(t.currentMarket),l.Ib(7),l.Nc("",l.mc(18,9,"market.last_update"),": ",t.lastUpdate,""),l.Ib(2),l.qc("ngIf",!t.ready),l.Ib(1),l.qc("ngIf",t.ready),l.Ib(4),l.qc("ngIf",t.isThereAlert))},directives:[n.e,i.k,d.a,i.i,i.j,m.c,i.l],pipes:[u.c,m.b],styles:[".sticky[_ngcontent-%COMP%]{position:fixed;top:0;margin-left:16px}"]}),e})()}];let O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Rb({type:e}),e.\u0275inj=l.Qb({imports:[[n.f.forChild(E)],n.f]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.Rb({type:e}),e.\u0275inj=l.Qb({imports:[[i.b,O,m.a,u.b,d.b]]}),e})()},"vKg+":function(e,t,r){"use strict";r.d(t,"a",function(){return c}),r.d(t,"b",function(){return o});var i=r("ofXK"),n=r("fXoL");let c=(()=>{class e{constructor(){this.strokeWidth="2",this.fill="none",this.animationDuration="2s"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Nb({type:e,selectors:[["p-progressSpinner"]],inputs:{strokeWidth:"strokeWidth",fill:"fill",animationDuration:"animationDuration",style:"style",styleClass:"styleClass"},decls:3,vars:6,consts:[["role","alert","aria-busy","true",1,"p-progress-spinner",3,"ngStyle","ngClass"],["viewBox","25 25 50 50",1,"p-progress-spinner-svg"],["cx","50","cy","50","r","20","stroke-miterlimit","10",1,"p-progress-spinner-circle"]],template:function(e,t){1&e&&(n.Zb(0,"div",0),n.jc(),n.Zb(1,"svg",1),n.Ub(2,"circle",2),n.Yb(),n.Yb()),2&e&&(n.qc("ngStyle",t.style)("ngClass",t.styleClass),n.Ib(1),n.Hc("animation-duration",t.animationDuration),n.Ib(1),n.Jb("fill",t.fill)("stroke-width",t.strokeWidth))},directives:[i.l,i.i],styles:['.p-progress-spinner{display:inline-block;height:100px;margin:0 auto;position:relative;width:100px}.p-progress-spinner:before{content:"";display:block;padding-top:100%}.p-progress-spinner-svg{animation:p-progress-spinner-rotate 2s linear infinite;bottom:0;height:100%;left:0;margin:auto;position:absolute;right:0;top:0;transform-origin:center center;width:100%}.p-progress-spinner-circle{animation:p-progress-spinner-dash 1.5s ease-in-out infinite,p-progress-spinner-color 6s ease-in-out infinite;stroke:#d62d20;stroke-dasharray:89,200;stroke-dashoffset:0;stroke-linecap:round}@keyframes p-progress-spinner-rotate{to{transform:rotate(1turn)}}@keyframes p-progress-spinner-dash{0%{stroke-dasharray:1,200;stroke-dashoffset:0}50%{stroke-dasharray:89,200;stroke-dashoffset:-35px}to{stroke-dasharray:89,200;stroke-dashoffset:-124px}}@keyframes p-progress-spinner-color{0%,to{stroke:#d62d20}40%{stroke:#0057e7}66%{stroke:#008744}80%,90%{stroke:#ffa700}}'],encapsulation:2,changeDetection:0}),e})(),o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Rb({type:e}),e.\u0275inj=n.Qb({imports:[[i.b]]}),e})()}}]);