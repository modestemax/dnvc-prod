(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{qkvE:function(e,t,r){"use strict";r.r(t),r.d(t,"MarketModule",function(){return N});var i=r("ofXK"),c=r("tyNb"),n=r("Cfvw"),o=r("OQgR"),a=r("5+tZ"),s=r("IAdc"),b=r("fXoL"),l=r("0MNC"),d=r("QX/Z"),m=r("vKg+"),p=r("oOf3"),u=r("sYmb");function h(e,t){1&e&&b.Ub(0,"p-progressSpinner")}function f(e,t){1&e&&(b.Zb(0,"div",23),b.Zb(1,"h1",24),b.Zb(2,"p"),b.Kc(3),b.lc(4,"translate"),b.Yb(),b.Yb(),b.Yb()),2&e&&(b.Ib(3),b.Lc(b.mc(4,1,"market.isMarket")))}function g(e,t){if(1&e&&(b.Zb(0,"div",23),b.Zb(1,"div",25),b.Zb(2,"div",26),b.Ub(3,"div",27),b.Ub(4,"img",28),b.Zb(5,"picture"),b.Ub(6,"source",29),b.Ub(7,"img",30),b.Yb(),b.Zb(8,"noscript"),b.Zb(9,"picture"),b.Ub(10,"source",29),b.Ub(11,"img",31),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()),2&e){const e=b.kc(2);b.Ib(6),b.qc("srcset",e.marketImageUrl+" 133w,"+e.marketImageUrl+" 267w,"+e.marketImageUrl+" 533w,"+e.marketImageUrl+" 600w",b.Ec),b.Ib(1),b.qc("srcset",e.marketImageUrl+" 133w,"+e.marketImageUrl+" 267w,"+e.marketImageUrl+" 533w,"+e.marketImageUrl+" 600w",b.Ec)("src",e.marketImageUrl,b.Ec)("alt",e.currentMarket),b.Ib(3),b.qc("srcset",e.marketImageUrl+" 133w,"+e.marketImageUrl+" 267w,"+e.marketImageUrl+" 533w,"+e.marketImageUrl+" 600w",b.Ec),b.Ib(1),b.qc("srcset",e.marketImageUrl+" 133w,"+e.marketImageUrl+" 267w,"+e.marketImageUrl+" 533w,"+e.marketImageUrl+" 600w",b.Ec)("src",e.marketImageUrl,b.Ec)}}function v(e,t){if(1&e&&(b.Zb(0,"div",20),b.Zb(1,"div",21),b.Kc(2),b.Yb(),b.Ic(3,f,5,3,"div",22),b.Ic(4,g,12,7,"div",22),b.Yb()),2&e){const e=b.kc();b.Ib(2),b.Mc(" ",e.marketIntroText," "),b.Ib(1),b.qc("ngIf",!e.isThereAlert),b.Ib(1),b.qc("ngIf",e.isThereAlert)}}function I(e,t){if(1&e&&(b.Zb(0,"h2",47),b.Kc(1),b.Yb()),2&e){const e=b.kc(2);b.Ib(1),b.Lc(e.filterValue)}}function k(e,t){1&e&&(b.Zb(0,"h2",47),b.Kc(1),b.lc(2,"translate"),b.Yb()),2&e&&(b.Ib(1),b.Lc(b.mc(2,1,"market.All")))}const w=function(e){return{"rotate-180":e}};function Z(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",48),b.Zb(1,"button",49),b.gc("click",function(){return b.Dc(e),b.kc(2).open()}),b.jc(),b.Zb(2,"svg",50),b.Zb(3,"title",51),b.Kc(4,"Point Down Icon"),b.Yb(),b.Ub(5,"polygon",52),b.Yb(),b.Yb(),b.Yb()}if(2&e){const e=b.kc(2);b.Ib(2),b.qc("ngClass",b.uc(1,w,e.openedMenu))}}function Y(e,t){if(1&e){const e=b.ac();b.Zb(0,"h6",53,42),b.Zb(2,"div"),b.Zb(3,"a",43),b.gc("click",function(){b.Dc(e);const r=t.$implicit,i=b.Bc(1);return b.kc(2).filter(r.alerte,i)}),b.Kc(4),b.Yb(),b.Yb(),b.Yb()}if(2&e){const e=t.$implicit;b.Ib(4),b.Lc(e.alerte)}}function x(e,t){1&e&&b.Ub(0,"p-progressSpinner")}function y(e,t){1&e&&(b.Zb(0,"h2",58),b.Kc(1),b.lc(2,"translate"),b.lc(3,"translate"),b.Yb()),2&e&&(b.Ib(1),b.Nc("",b.mc(2,2,"market.alerts")," [",b.mc(3,4,"market.All"),"]"))}function L(e,t){if(1&e&&(b.Zb(0,"h2",58),b.Kc(1),b.lc(2,"translate"),b.Yb()),2&e){const e=b.kc(3);b.Ib(1),b.Nc("",b.mc(2,2,"market.alerts")," [",e.filterValue,"]")}}const _=function(e){return{"background-color":e}};function U(e,t){if(1&e){const e=b.ac();b.Zb(0,"div"),b.Zb(1,"div"),b.Zb(2,"div"),b.Zb(3,"div",59),b.Zb(4,"div",60),b.Zb(5,"div",61),b.Zb(6,"div",62),b.Zb(7,"div",63),b.Zb(8,"h5"),b.Ub(9,"span",64),b.Zb(10,"span",65),b.Kc(11),b.Yb(),b.Yb(),b.Yb(),b.Zb(12,"div",66),b.Zb(13,"div"),b.Zb(14,"div",67),b.Zb(15,"div",68),b.Zb(16,"p",69),b.Kc(17),b.lc(18,"translate"),b.Yb(),b.Yb(),b.Zb(19,"div",70),b.Zb(20,"p",69),b.Kc(21),b.lc(22,"translate"),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(23,"h6",71),b.Zb(24,"p"),b.Kc(25),b.Yb(),b.Yb(),b.Zb(26,"div",66),b.Zb(27,"div"),b.Zb(28,"div",72),b.Zb(29,"div",73),b.Zb(30,"p",74),b.Kc(31),b.lc(32,"translate"),b.Yb(),b.Yb(),b.Zb(33,"div",75),b.Zb(34,"button",76),b.gc("click",function(){b.Dc(e);const r=t.$implicit;return b.kc(3).redirectTo(r.source)}),b.jc(),b.Zb(35,"svg",77),b.Ub(36,"path",78),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb()}if(2&e){const e=t.$implicit;b.Ib(9),b.qc("ngStyle",b.uc(14,_,e.color)),b.Ib(2),b.Lc(e.title),b.Ib(6),b.Nc("",b.mc(18,8,"market.publish"),": ",e.date,""),b.Ib(4),b.Nc("",b.mc(22,10,"market.followed_by"),": ",e.author,""),b.Ib(4),b.Mc(" ",e.text," "),b.Ib(6),b.Mc("",b.mc(32,12,"market.source"),": ")}}const M=function(e,t){return{itemsPerPage:5,currentPage:e,totalItems:t}},S=function(){return{position:"absolute","bottom.px":0}},j=function(){return{}},A=function(e){return{position:e}};function q(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",54),b.Zb(1,"div"),b.Ic(2,y,4,6,"h2",55),b.Ic(3,L,3,4,"h2",55),b.Ic(4,U,37,16,"div",56),b.lc(5,"paginate"),b.Yb(),b.Zb(6,"pagination-controls",57),b.gc("pageChange",function(t){return b.Dc(e),b.kc(2).page=t}),b.lc(7,"translate"),b.lc(8,"translate"),b.Yb(),b.Yb()}if(2&e){const e=b.kc(2);b.Ib(2),b.qc("ngIf","ALL"===e.filterValue),b.Ib(1),b.qc("ngIf","ALL"!==e.filterValue),b.Ib(1),b.qc("ngForOf",b.nc(5,6,e.filteredAlert,b.vc(13,M,e.page,e.totalItems))),b.Ib(2),b.rc("previousLabel",b.mc(7,9,"market.previous")),b.rc("nextLabel",b.mc(8,11,"market.next")),b.qc("ngStyle",b.uc(18,A,e.isSmallScreen?b.tc(16,S):b.tc(17,j)))}}const T=function(e){return{sticky:e}},K=function(e){return{"d-block":e}};function E(e,t){if(1&e){const e=b.ac();b.Zb(0,"div",32),b.Zb(1,"div",33),b.Zb(2,"div",34),b.Zb(3,"div",25),b.Zb(4,"div",35),b.Zb(5,"div",36),b.Zb(6,"div"),b.Zb(7,"div",37),b.Kc(8),b.lc(9,"translate"),b.Yb(),b.Ic(10,I,2,1,"h2",38),b.Ic(11,k,3,3,"h2",38),b.Yb(),b.Ic(12,Z,6,3,"div",39),b.Yb(),b.Zb(13,"ul",40),b.Zb(14,"h6",41,42),b.Zb(16,"div"),b.Zb(17,"a",43),b.gc("click",function(){b.Dc(e);const t=b.Bc(15);return b.kc().filter("ALL",t)}),b.Kc(18),b.lc(19,"translate"),b.Yb(),b.Yb(),b.Yb(),b.Ic(20,Y,5,1,"h6",44),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(21,"div",45),b.Ic(22,x,1,0,"p-progressSpinner",14),b.Ic(23,q,9,20,"div",46),b.Yb(),b.Yb()}if(2&e){const e=b.kc();b.Ib(4),b.qc("ngClass",b.uc(14,T,e.stickyMenu&&e.isSmallScreen)),b.Ib(4),b.Lc(b.mc(9,10,"market.content")),b.Ib(2),b.qc("ngIf","ALL"!==e.filterValue),b.Ib(1),b.qc("ngIf","ALL"===e.filterValue),b.Ib(1),b.qc("ngIf",e.isSmallScreen),b.Ib(1),b.qc("ngClass",b.uc(16,K,e.openedMenu)),b.Ib(5),b.Lc(b.mc(19,12,"market.All")),b.Ib(2),b.qc("ngForOf",e.content),b.Ib(2),b.qc("ngIf",!e.ready),b.Ib(1),b.qc("ngIf",e.ready)}}const O=[{path:"",component:(()=>{class e{constructor(e,t,r,i){this.router=e,this.activatedRoute=t,this.breakPointObserver=r,this.marketsService=i,this.serverAdress="https://dnvc-admin.herokuapp.com",this.marketImageUrl="",this.marketIntroText="",this.lastUpdate="",this.filterValue="ALL",this.totalItems=0,this.page=1,this.stickyMenu=!1,this.openedMenu=!1,this.isSmallScreen=!1,this.isThereAlert=!0,this.ready=!1,this.severity={Threat:"red",Weak:"green",Opportunity:"blue"},this.filteredAlert=[],this.content=[]}filter(e,t){document.getElementById("top").scrollIntoView({behavior:"smooth"}),document.querySelectorAll(".active-item").forEach(e=>{e.classList.remove("active-item")}),this.filterValue=e.toString(),this.totalItems=0,this.filteredAlert=[],this.page=1,this.content.forEach("ALL"===e?e=>{e.content.forEach(e=>{this.filteredAlert.push(e)}),this.totalItems+=e.content.length}:t=>{t.alerte===e&&(t.content.forEach(e=>{this.filteredAlert.push(e)}),this.totalItems=t.content.length)}),t.classList.add("active-item")}ngOnInit(){const e=this.activatedRoute.snapshot.paramMap.get("zone");this.currentMarket=e,this.getMarketProperties(e),this.breakPointObserver.observe(["(max-width: 765px)"]).subscribe(e=>{this.isSmallScreen=!!e.matches})}getMarketProperties(e){this.ready=!1,this.isThereAlert=!0,this.marketsService.getSingleMarketFromServer(e).subscribe(t=>{this.isThereAlert=0!==t.length,this.temp=t,Object(n.a)(this.temp).pipe(Object(o.a)(e=>e.themes_de_veille.Nom),Object(a.a)(e=>e.pipe(Object(s.a)()))).subscribe(t=>{const r=[];t.forEach(t=>{if(""===this.marketImageUrl||""===this.marketIntroText)for(let r=0;r<t.Marches.length;r++)if(t.Marches[r].Nom===e){this.marketImageUrl=this.serverAdress+t.Marches[r].Logo_Large[0].url,this.marketIntroText=t.Marches[r].Intro,this.lastUpdate=t.Marches[r].updated_at.split("T")[0];break}r.push({color:this.severity[t.Type],date:t.DatePublication,author:null!==t.Emetteur?t.Emetteur.NomStructure:t.Emetteur,title:t.Title,text:t.Resume,sourceType:0===t.SourceFile.length?"url":"document",source:0===t.SourceFile.length?t.sourceUrl:this.serverAdress+t.SourceFile[0].url,markets:t.Marches})}),this.content.push({alerte:t[0].themes_de_veille.Nom,content:r})},e=>{},()=>{this.ready=!0;const e=document.getElementById("all");this.filter("ALL",e)})})}onWindowScroll(e){this.stickyMenu=window.pageYOffset>=1120}open(){this.openedMenu=!this.openedMenu}redirectTo(e){window.open(e,"_blank")}}return e.\u0275fac=function(t){return new(t||e)(b.Tb(c.b),b.Tb(c.a),b.Tb(l.a),b.Tb(d.a))},e.\u0275cmp=b.Nb({type:e,selectors:[["app-market"]],hostBindings:function(e,t){1&e&&b.gc("scroll",function(e){return t.onWindowScroll(e)},!1,b.Cc)},decls:25,vars:11,consts:[[1,"background-threads","careers-threads"],[1,"fade-in-section","disable-fade-in","is-visible","fade-in-hero","disable-transform"],[1,"container","hero-splash-container"],[1,"row","pv90-60"],[1,"col-sm-12","col-md-8","hero-splash"],["routerLink","/markets",1,"hero-parent-title","crown-link"],[1,"h1","small","mb0","d-inline"],[1,"hero-title",2,"color","white"],[1,"col-12"],[1,"col-sm-12","col-md-5"],[1,"background-grid-white"],[1,"container","teaser-container"],[1,"header-subsection-date-section","d-flex"],[1,"header-subsection-date"],[4,"ngIf"],["class","row align-items-center justify-content-between",4,"ngIf"],["id","top",1,"border-top-black","is-visible"],[1,"content-section-mobile","background-white"],[1,"container","content_nav-container"],["class","row",4,"ngIf"],[1,"row","align-items-center","justify-content-between"],[1,"col-sm-12","col-md-5","teaser-context","pv120-90"],["class","col-sm-12 col-md-5 order-first teaser-image pv120-90",4,"ngIf"],[1,"col-sm-12","col-md-5","order-first","teaser-image","pv120-90"],[2,"text-align","center"],[1,"fade-in-section","disable-fade-in","is-visible"],[1,"gatsby-image-wrapper",2,"position","relative","overflow","hidden","max-width","533px","max-height","400px"],["aria-hidden","true",2,"width","100%","padding-bottom","75.188%"],["aria-hidden","true","src","","alt","",2,"position","absolute","top","0px","left","0px","width","100%","height","100%","object-fit","cover","object-position","center center","opacity","0","transition-delay","500ms"],["sizes","(max-width: 533px) 100vw, 533px",3,"srcset"],["sizes","(max-width: 533px) 100vw, 533px","loading","lazy",2,"position","absolute","top","0px","left","0px","width","100%","height","100%","object-fit","cover","object-position","center center","opacity","1","transition","opacity 500ms ease 0s",3,"srcset","src","alt"],["loading","lazy","sizes","(max-width: 533px) 100vw, 533px","alt","",2,"position","absolute","top","0","left","0","opacity","1","width","100%","height","100%","object-fit","cover","object-position","center",3,"srcset","src"],[1,"row"],[1,"col-lg-4","col-md-12","col-sm-12","d-md-block","pt120","mb45"],[1,"jump-nav"],["id","jump-nav",1,"jump-nav__container",3,"ngClass"],[1,"jump-nav__header"],[1,"label"],["class","h6 bold mb0 d-block d-md-none",4,"ngIf"],["class","jump-nav__mobile",4,"ngIf"],[1,"jump-nav__items",3,"ngClass"],["id","all",1,"mb0","pt15","jump-nav__item-wrapper"],["elt",""],[1,"jump-nav__item","bold",2,"cursor","pointer",3,"click"],["class","mb0 pt15 jump-nav__item-wrapper",4,"ngFor","ngForOf"],[1,"col-lg-6","col-md-12","col-sm-12","border-left-black","pb120-90","pt120-45","content-area-content"],["class","free-form-content__content wysiwyg-wrapper",4,"ngIf"],[1,"h6","bold","mb0","d-block","d-md-none"],[1,"jump-nav__mobile"],[1,"jump-nav__mobile-button",3,"click"],["aria-labelledby","point-down-icon","role","img","viewBox","0 0 30 30",1,"icon","icon-white",3,"ngClass"],["id","point-down-icon"],["fill-rule","nonzero","points","23.354 12.075 15.499 19.929 7.646 12.075 8.353 11.368 15.498 18.514 22.646 11.367 23.354 12.075"],[1,"mb0","pt15","jump-nav__item-wrapper"],[1,"free-form-content__content","wysiwyg-wrapper"],["class","pb100",4,"ngIf"],[4,"ngFor","ngForOf"],["responsive","true",2,"position","absolute","bottom","15px",3,"previousLabel","nextLabel","ngStyle","pageChange"],[1,"pb100"],[1,"wfb-card-wrapper","pb60"],[1,"row","no-gutters"],[1,"col-md-12"],[1,"wfb-card__body-container"],[1,"wfb-card__link-container"],[1,"col-4",2,"padding","2px 12px","width","100px","margin-right","8px",3,"ngStyle"],[1,"col-8"],[1,"thee-link-container"],[1,"wfb-card__link-container",2,"display","flex","flex-direction","row","flex-wrap","wrap"],[1,"wfb-card__text","mb-1","mt-1","mr-5"],[2,"color","darkgray","font-size","14px"],[1,"wfb-card__text","mb-1","mt-1"],[2,"font-weight","normal","margin-bottom","0"],[2,"display","flex","flex-direction","row","flex-wrap","nowrap"],[1,"wfb-card__text",2,"margin-top","8px"],[2,"color","darkgray","font-size","14px","text-align","center"],[1,"wfb-card__text"],[2,"margin","0","padding","0","border","none",3,"click"],["role","img","aria-labelledby","file-icon","viewBox","0 0 30 30",1,"icon"],["d","M16.667,7 L9,7 L9,24 L22,24 L22,12.308 L16.667,7 Z M17,8.742 L20.273,12 L17,12 L17,8.742 Z M10,23 L10,8 L16,8 L16,13 L21,13 L21,23 L10,23 Z","fill","#161618","fill-rule","nonzero"]],template:function(e,t){1&e&&(b.Zb(0,"section",0),b.Zb(1,"div",1),b.Zb(2,"div",2),b.Zb(3,"div",3),b.Zb(4,"div",4),b.Zb(5,"a",5),b.Zb(6,"h3",6),b.Kc(7),b.lc(8,"translate"),b.Yb(),b.Yb(),b.Zb(9,"h1",7),b.Kc(10),b.Yb(),b.Yb(),b.Ub(11,"div",8),b.Ub(12,"div",9),b.Yb(),b.Yb(),b.Yb(),b.Yb(),b.Zb(13,"section",10),b.Zb(14,"div",11),b.Zb(15,"div",12),b.Zb(16,"label",13),b.Kc(17),b.lc(18,"translate"),b.Yb(),b.Yb(),b.Ic(19,h,1,0,"p-progressSpinner",14),b.Ic(20,v,5,3,"div",15),b.Yb(),b.Yb(),b.Zb(21,"div",16),b.Zb(22,"section",17),b.Zb(23,"div",18),b.Ic(24,E,24,18,"div",19),b.Yb(),b.Yb(),b.Yb()),2&e&&(b.Ib(7),b.Lc(b.mc(8,7,"market.link")),b.Ib(3),b.Lc(t.currentMarket),b.Ib(7),b.Nc("",b.mc(18,9,"market.last_update"),": ",t.lastUpdate,""),b.Ib(2),b.qc("ngIf",!t.ready),b.Ib(1),b.qc("ngIf",t.ready),b.Ib(4),b.qc("ngIf",t.isThereAlert))},directives:[c.e,i.k,m.a,i.i,i.j,p.c,i.l],pipes:[u.c,p.b],styles:[".sticky[_ngcontent-%COMP%]{position:fixed;top:0;margin-left:16px}"]}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Rb({type:e}),e.\u0275inj=b.Qb({imports:[[c.f.forChild(O)],c.f]}),e})(),N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=b.Rb({type:e}),e.\u0275inj=b.Qb({imports:[[i.b,C,p.a,u.b,m.b]]}),e})()}}]);